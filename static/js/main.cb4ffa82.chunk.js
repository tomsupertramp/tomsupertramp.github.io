(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{255:function(e){e.exports=[{id:1,name:"Tomato",color:"red",issueDate:"09-08-2018",price:50,raiting:2.5,inStock:!1,image:"http://lorempixel.com/output/technics-q-c-100-100-7.jpg"},{id:2,name:"Lemon",color:"yellow",issueDate:"05-06-2018",price:10,raiting:1.3,inStock:!0,image:"http://lorempixel.com/output/food-q-c-100-100-6.jpg"},{id:3,name:"Orange",color:"orange",issueDate:"12-10-2018",price:80,raiting:3.8,inStock:!0,image:"http://lorempixel.com/output/city-q-c-100-100-8.jpg"},{id:4,name:"Avocado",color:"green",issueDate:"09-20-2018",price:100,raiting:3.2,inStock:!0,image:"http://lorempixel.com/output/people-q-c-100-100-4.jpg"},{id:5,name:"Potato",color:"yellow",issueDate:"07-05-2018",price:23,raiting:2.5,inStock:!1,image:"http://lorempixel.com/output/people-q-c-100-100-6.jpg"},{id:6,name:"Pants",color:"green",issueDate:"01-28-2016",price:60.4,raiting:3.5,inStock:!0,image:"http://lorempixel.com/output/nature-q-c-100-100-7.jpg"},{id:7,name:"T-shirt",color:"red",issueDate:"02-13-2017",price:250,raiting:4.3,inStock:!1,image:"http://lorempixel.com/output/fashion-q-c-100-100-3.jpg"},{id:8,name:"Hat",color:"blue",issueDate:"09-20-2018",price:100,raiting:1,inStock:!0,image:"http://lorempixel.com/output/city-q-c-100-100-2.jpg"},{id:9,name:"Jacket",color:"black",issueDate:"03-10-2017",price:500,raiting:5,inStock:!1,image:"http://lorempixel.com/output/food-q-c-100-100-5.jpg"},{id:10,name:"Shirt",color:"orange",issueDate:"06-12-2018",price:230,raiting:4.3,inStock:!0,image:"http://lorempixel.com/output/food-q-c-100-100-7.jpg"},{id:11,name:"T-shirt",color:"black",issueDate:"09-20-2017",price:240,raiting:4.9,inStock:!0,image:"http://lorempixel.com/output/people-q-c-100-100-1.jpg"}]},404:function(e,t,n){e.exports=n(887)},628:function(e,t){},630:function(e,t){},662:function(e,t){},663:function(e,t){},885:function(e,t,n){},887:function(e,t,n){"use strict";n.r(t);n(405),n(603);var a=n(1),r=n.n(a),c=n(46),l=n.n(c),o=n(29),i=n(55),u=n(78),s=n(401),m=n(396),p=n.n(m),E=n(61),d=n.n(E),g=n(31),f=n(60),b={LOGIN_REQUEST:"SERVICES/LOGIN_REQUEST",LOGIN_SUCCESS:"SERVICES/LOGIN_SUCCESS",LOGIN_FAILURE:"SERVICES/LOGIN_FAILURE",SIGNUP_REQUEST:"SERVICES/SIGNUP_REQUEST",SIGNUP_SUCCESS:"SERVICES/SIGNUP_SUCCESS",SIGNUP_FAILURE:"SERVICES/SIGNUP_FAILURE"},S={isAuthenticated:!1,successSignup:!1,error:null,user:null},h=function(e){return{type:b.SIGNUP_REQUEST,values:e}},O=function(e){return{type:b.LOGIN_REQUEST,values:e}},j=n(180),v=n.n(j),C=d.a.mark(U),w=d.a.mark(k),I=d.a.mark(_),T=v.a.genSaltSync(10);function U(e){var t,n,a,r;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.values,c.prev=1,n=t.username,a=t.password,!localStorage.getItem(n)){c.next=8;break}return c.next=6,Object(g.c)({type:b.SIGNUP_FAILURE,error:"User already exist"});case 6:c.next=12;break;case 8:return r=v.a.hashSync(a,T),localStorage.setItem(n,r),c.next=12,Object(g.c)({type:b.SIGNUP_SUCCESS});case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(g.c)({type:b.LOGIN_FAILURE,error:c.t0.message});case 18:case"end":return c.stop()}},C,this,[[1,14]])}function k(e){var t,n,a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.values,r.prev=1,n=t.username,a=t.password,localStorage.getItem(n)&&v.a.compareSync(a,localStorage.getItem(n))){r.next=8;break}return r.next=6,Object(g.c)({type:b.LOGIN_FAILURE,error:"The username or password is incorrect"});case 6:r.next=12;break;case 8:return r.next=10,Object(g.c)(Object(i.c)("/"));case 10:return r.next=12,Object(g.c)({type:b.LOGIN_SUCCESS,user:n});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(g.c)({type:b.LOGIN_FAILURE,error:r.t0.message});case 18:case"end":return r.stop()}},w,this,[[1,14]])}function _(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(b.SIGNUP_REQUEST,U);case 2:return e.next=4,Object(g.d)(b.LOGIN_REQUEST,k);case 4:case"end":return e.stop()}},I,this)}var N=d.a.mark(y);function y(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([Object(g.b)(_)]);case 2:case"end":return e.stop()}},N,this)}var R=n(67),x=n(140),L=n.n(x),P={FETCH_PRODUCTS:"FETCH_PRODUCTS"},A=n(255),G=function(e){var t=A;if(e){var n=e.inStock,a=e.color,r=e.priceFrom,c=e.priceTo,l=e.dateFrom,o=e.dateTo;t=Object(R.filter)(A,function(t){var i=!a||a===t.color,u=n===t.inStock||!1===n;return i&&u&&(!c&&!r||(c?r?t.price>=r&&t.price<=c:t.price<=c:t.price>=r))&&function(){var n=L()(t.issueDate,"MM-DD-YYYY");return!e.dateFrom&&!e.dateTo||(e.dateTo?e.dateFrom?L()(n).isBetween(l,o):L()(n).isSameOrBefore(o):L()(n).isSameOrAfter(l))}()})}return{type:P.FETCH_PRODUCTS,products:t}},D={products:[]},F={UPDATE_CART:"UPDATE_CART",TOGGLE_CART_MODAL:"TOGGLE_CART_MODAL"},q=function(e){return{type:F.UPDATE_CART,item:e}},M=function(){return{type:F.TOGGLE_CART_MODAL}},V=n(402),Q={items:[],isOpen:!1},H=Object(u.c)({routing:i.e,services:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.SIGNUP_REQUEST:return Object(f.a)({},e,{successSignup:!1,error:null});case b.SIGNUP_SUCCESS:return Object(f.a)({},e,{successSignup:!0,error:null});case b.SIGNUP_FAILURE:return Object(f.a)({},e,{error:t.error});case b.LOGIN_SUCCESS:return Object(f.a)({},e,{isAuthenticated:!0,user:t.user,error:null});case b.LOGIN_FAILURE:return Object(f.a)({},e,{error:t.error});case i.b:return Object(f.a)({},e,{successSignup:!1,error:null});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.FETCH_PRODUCTS:return Object(f.a)({},e,{products:t.products});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.UPDATE_CART:return Object(f.a)({},e,{items:Object(V.a)(e.items).concat([t.item])});case F.TOGGLE_CART_MODAL:return Object(f.a)({},e,{isOpen:!e.isOpen});default:return e}}}),Y=p()(),z=Object(s.a)(),B=[Object(i.d)(Y),z],W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,J=Object(u.e)(H,W(u.a.apply(void 0,B)));z.run(y);var X=J,$=n(59),K=n(56),Z=n(5),ee=n(33),te=function(e){var t=e.children,n=e.onSubmit,a=e.title;return r.a.createElement("div",null,r.a.createElement("h2",{className:"form-title"},a),r.a.createElement(Z.i,{onSubmit:n},t))},ne=n(179),ae=n(398),re=n.n(ae),ce=function(e){var t=e.name,n=e.field,a=e.form,c=a.touched,l=a.errors,o=e.label,i=e.placeholder,u=e.type,s=e.format,m=Object(ne.a)(e,["name","field","form","label","placeholder","type","format"]),p=c[n.name]&&l[n.name];return r.a.createElement("div",null,r.a.createElement(Z.m,{htmlFor:t},o),s?r.a.createElement(re.a,Object.assign({},n,m,{id:t,placeholder:i,type:u})):r.a.createElement(Z.k,Object.assign({},n,{id:t,placeholder:i,type:u})),p&&r.a.createElement("span",{className:"text-danger"},p))},le=function(e){return r.a.createElement(ee.a,Object.assign({name:e,component:ce},e))},oe=function(e){var t=e.label,n=e.field;return r.a.createElement(Z.m,{check:!0},r.a.createElement(Z.k,Object.assign({type:"checkbox"},n))," ",t)},ie=function(e){return r.a.createElement(ee.a,Object.assign({name:e,component:oe},e))},ue=n(400),se=(n(751),function(e){e.className;var t=e.form,n=e.field,a=(e.inputClassName,e.placeholder),c=e.label,l=e.name,o=Object(ne.a)(e,["className","form","field","inputClassName","placeholder","label","name"]);return r.a.createElement("div",null,r.a.createElement(Z.m,{for:l},c),r.a.createElement(ue.a,Object.assign({},o,{id:l,onChange:function(e){return function(e){t.setFieldValue(n.name,e)}(e)},placeholderText:a,selected:n.value})))}),me=function(e){return r.a.createElement(ee.a,Object.assign({name:e,component:se},e))},pe=function(e){var t=e.children,n=e.name,a=e.label,c=e.placeholder,l=e.field;return r.a.createElement("div",null,r.a.createElement(Z.m,{htmlFor:n},a),r.a.createElement(Z.k,Object.assign({id:n,placeholder:c,type:"select"},l),t))},Ee=function(e){return r.a.createElement(ee.a,Object.assign({name:e,component:pe},e))},de=Object(K.a)(Object(ee.b)({mapPropsToValues:function(){return{dateFrom:null,dateTo:null,inStock:!1,priceFrom:"",priceTo:"",color:""}},handleSubmit:function(e,t){(0,t.props.onSubmit)(e)}}),Object(K.b)({componentWillReceiveProps:function(e){var t=e.values,n=e.onSubmit,a=Object(R.debounce)(function(){n(t)},300);Object(R.isEqual)(t,this.props.values)||a()}}))(function(e){var t=e.handleSubmit;return r.a.createElement(te,{onSubmit:t},r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,r.a.createElement(me,{label:"Date From",name:"dateFrom"})),r.a.createElement(Z.g,null,r.a.createElement(me,{label:"Date To",name:"dateTo"})),r.a.createElement(Z.g,{sm:{size:2,offset:2},className:"align-middle"},r.a.createElement(ie,{label:"In stock only",name:"inStock"}))),r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,r.a.createElement(le,{label:"Price from",name:"priceFrom",thousandSeparator:!0,format:!0,decimalScale:2,className:"form-control"})),r.a.createElement(Z.g,null,r.a.createElement(le,{label:"Price to",name:"priceTo",thousandSeparator:!0,format:!0,decimalScale:2,className:"form-control"})),r.a.createElement(Z.g,null,r.a.createElement(Ee,{label:"Color",name:"color"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",null,"black"),r.a.createElement("option",null,"red"),r.a.createElement("option",null,"yellow"),r.a.createElement("option",null,"orange"),r.a.createElement("option",null,"green")))))}),ge=n(399),fe=n.n(ge),be=function(e){var t=e.name,n=e.color,a=e.issueDate,c=e.price,l=e.raiting,o=e.inStock,i=e.image,u=e.handleClick,s=e.isCart;return r.a.createElement(Z.c,{className:"card"},r.a.createElement(Z.w,null,r.a.createElement(Z.g,{xs:"3",className:"card-container"},r.a.createElement(Z.e,{src:i,alt:"Card image cap",className:"card-image"})),r.a.createElement(Z.g,null,r.a.createElement(Z.d,null,r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,r.a.createElement(Z.f,null,"Name: ",t)),r.a.createElement(Z.g,null,r.a.createElement(Z.f,null,"IssueDate: ",a)),r.a.createElement(Z.g,null,r.a.createElement(Z.f,null,"Price: $",c))),r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,r.a.createElement(Z.f,null,"Color: ",n)),r.a.createElement(Z.g,null,r.a.createElement(Z.f,null,"InStock: ",o?"Yes":"No")),!s&&r.a.createElement(Z.g,null,r.a.createElement(Z.b,{onClick:u},"Order"))),r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,r.a.createElement(fe.a,{rating:l,starDimension:"20px",starSpacing:"2px"})))))))},Se=function(e){var t=e.products,n=e.updateCart;return r.a.createElement("div",null,Object(R.map)(t,function(e){return r.a.createElement(be,Object.assign({key:e.id,handleClick:function(){return n(e)}},e))}))},he=function(e){var t=e.products,n=e.fetchProducts,a=e.updateCart;return r.a.createElement("div",null,r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,r.a.createElement(de,{onSubmit:n}))),r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,0===t.length?r.a.createElement("div",null,"No items..."):r.a.createElement(Se,{products:t,updateCart:a}))))},Oe=Object(K.a)(Object(o.b)(function(e){return{products:e.search.products}},function(e){return{fetchProducts:function(t){return e(G(t))},updateCart:function(t){return e(q(t))}}}),Object(K.b)({componentDidMount:function(){(0,this.props.fetchProducts)()}}))(he),je=n(393),ve=n(392),Ce=n(62),we=function(e){var t=e.handleSubmit,n=e.successSignup,a=e.error;return r.a.createElement(Z.w,null,r.a.createElement(Z.g,{sm:"12",md:{size:6,offset:3}},r.a.createElement(te,{title:"Sign up",onSubmit:t},n&&r.a.createElement(Z.a,{color:"success"},"Success registration!"),a&&r.a.createElement(Z.a,{color:"danger"},a),r.a.createElement(Z.j,null,r.a.createElement(le,{label:"Username",name:"username"})),r.a.createElement(Z.j,null,r.a.createElement(le,{label:"Password",name:"password",type:"password"})),r.a.createElement(Z.j,null,r.a.createElement(le,{label:"Password",name:"passwordConfirm",type:"password"})),r.a.createElement(Z.j,null,r.a.createElement(Z.b,{color:"primary",type:"submit"},"Sign up")))))},Ie=Ce.object().shape({username:Ce.string().min(3).required("Required"),password:Ce.string().required("Required"),passwordConfirm:Ce.string().oneOf([Ce.ref("password"),null],"Passwords must match").required("Required")}),Te=Object(K.a)(Object(o.b)(function(e){var t=e.services;return{error:t.error,successSignup:t.successSignup}},function(e){return{signup:function(t){return e(h(t))}}}),Object(ee.b)({mapPropsToValues:function(){return{username:"",password:"",passwordConfirm:""}},handleSubmit:function(e,t){(0,t.props.signup)(e)},validationSchema:Ie}))(we),Ue=function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement(Z.w,null,r.a.createElement(Z.g,{sm:"12",md:{size:6,offset:3}},r.a.createElement(te,{title:"Log in",onSubmit:t},n&&r.a.createElement(Z.a,{color:"danger"},n),r.a.createElement(Z.j,null,r.a.createElement(le,{label:"Username",name:"username"})),r.a.createElement(Z.j,null,r.a.createElement(le,{label:"Password",name:"password",type:"password"})),r.a.createElement(Z.j,null,r.a.createElement(Z.b,{color:"primary",type:"submit"},"Log in")))))},ke=Ce.object().shape({username:Ce.string().required("Required"),password:Ce.string().required("Required")}),_e=Object(K.a)(Object(o.b)(function(e){return{error:e.services.error}},function(e){return{login:function(t){return e(O(t))}}}),Object(ee.b)({mapPropsToValues:function(){return{username:"",password:""}},handleSubmit:function(e,t){(0,t.props.login)(e)},validationSchema:ke}))(Ue),Ne=function(e){var t=e.location;return r.a.createElement(je.a,{location:t},r.a.createElement($.a,{path:"/",exact:!0},r.a.createElement(Z.l,null,r.a.createElement("h1",null,"Test-app"))),r.a.createElement($.a,{path:"/signup",component:Te}),r.a.createElement($.a,{path:"/login",component:_e}),r.a.createElement(ve.a,{to:"/"}))},ye=Object(o.b)(function(e){return{location:e.routing.location}})(Ne),Re=n(181),xe=function(e){var t=e.isOpen,n=e.toggleCartModal,a=e.items;return r.a.createElement(Z.n,{isOpen:t,toggle:n,size:"lg"},r.a.createElement(Z.q,{toggle:n},"Cart"),r.a.createElement(Z.o,null,0===a.length?r.a.createElement("div",null,"No items"):Object(R.map)(a,function(e){return r.a.createElement(be,Object.assign({key:e.id},e,{isCart:!0}))})),r.a.createElement(Z.p,null,r.a.createElement(Z.b,{color:"primary",onClick:function(){return n()}},"Close")))},Le=Object(o.b)(function(e){var t=e.cart;return{isOpen:t.isOpen,items:t.items}},function(e){return{toggleCartModal:function(){return e(M())}}})(xe),Pe=function(e){var t=e.cartItemsCount,n=e.toggleCartModal,a=e.isAuthenticated,c=e.user;return r.a.createElement(Z.u,{color:"light",light:!0,expand:"md",className:"header"},r.a.createElement(Re.LinkContainer,{to:"/"},r.a.createElement(Z.v,null,"WebShop")),a?r.a.createElement("div",null,"Hello, ",c,"!"):r.a.createElement(Z.r,{navbar:!0},r.a.createElement(Z.s,null,r.a.createElement(Re.LinkContainer,{to:"/signup"},r.a.createElement(Z.t,null,"Sign Up"))),r.a.createElement(Z.s,null,r.a.createElement(Re.LinkContainer,{to:"/login"},r.a.createElement(Z.t,{href:"/login"},"Log In")))),a&&r.a.createElement(Z.b,{className:"ml-auto",color:"success",onClick:function(){return n()}},"Cart: ",t),r.a.createElement(Le,null))},Ae=Object(o.b)(function(e){var t=e.cart.items,n=e.services,a=n.isAuthenticated,r=n.user;return{cartItemsCount:t.length,isAuthenticated:a,user:r}},function(e){return{toggleCartModal:function(){return e(M())}}})(Pe),Ge=function(e){var t=e.isAuthenticated?Oe:ye;return r.a.createElement(Z.h,null,r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,r.a.createElement(Ae,null))),r.a.createElement(Z.w,null,r.a.createElement(Z.g,null,r.a.createElement($.a,{path:"/",component:t}))))},De=Object(o.b)(function(e){return{isAuthenticated:e.services.isAuthenticated}})(Ge);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(883),n(885);l.a.render(r.a.createElement(o.a,{store:X},r.a.createElement(i.a,{history:Y},r.a.createElement(De,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[404,2,1]]]);
//# sourceMappingURL=main.cb4ffa82.chunk.js.map